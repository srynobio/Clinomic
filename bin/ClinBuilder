#!/usr/bin/perl
use strict;
use warnings;
use lib '/home/srynearson/GVF-Clin/lib';
use GVF::ClinBuilder;

use Data::Dumper;

our ($VERSION) = '0.0.1';


# obj building.
my $builder = GVF::ClinBuilder->new_with_options();

# capture gvf data
my $feature = $builder->build_gvf;

if ($builder->need_switch){
    $feature = $builder->termUpdate($feature);    
}

# valadate file entered, required.
my $value = $builder->gvfValadate($feature);
if ( $$value <= $builder->get_percent) {
    die "Reference sequence does not valadate at " . $builder->get_percent . "%, " .
        "Check file or enter per_validate value.\n" .
        "RESULTS: " . $builder->get_file . " = " . $$value . "%\n";
}

# check if features have gene annotations and return
my $geneGVF = $builder->geneFind($feature);

# build relationship to data in dbSNP and GeneDatabase.db
my $clin = $builder->gvfRelationBuild($geneGVF);

# send clin data to be printed out as requested.
#$builder->exporter($clin);

print Dumper($clin);








 


