#!/usr/bin/perl
use strict;
use warnings;
use lib '/home/srynearson/Clinomic/lib';
use Clinomic::Base;
use Getopt::Long;

our $VERSION  = '0.0.1';

# time: 6m11.943s

my $usage = "\n
DatabaseBuilder $VERSION

DESCRIPTION:
USAGE:
OPTIONS(required):
\n";


my ( $help, $db_lib );
 
my $result = GetOptions(
    'db_lib=s'  => \$db_lib,
    'help'      => \$help,
) || die $usage;

# print message
if ( $help ){ die $usage }

# check that user has sqlite3
warn "{ClinDatabase} Checking for sqlite.\n";
my $sqlite_check = `sqlite3 -version`;
if ( ! $sqlite_check ) { die "sqlite3 is required\n"; }

# Building db object.
my $db;
if ( $db_lib) {
    $db = Clinomic::Base->new(
        data_directory => $db_lib,
        build_database => 1,
    );
}
else{
    $db = Clinomic::Base->new(
        build_database => 1,
    );        
}
